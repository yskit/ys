title: 什么是YS架构？
-----------
YS架构为为企业级框架和应用而生，我们希望由YS架构孕育出更多上层框架和辅助插件供开发使用，形成一整套技术栈生态，来帮助开发团队和开发人员降低开发和维护成本，同时为业界贡献出nodejs发展的力量。

# 设计原则

我们深知企业级应用在追求规范和共建的同时，还需要考虑如何平衡不同团队之间的差异，求同存异。所以我们没有选择社区常见框架的大集市模式（集成如数据库、模板引擎、前端框架等功能），而是专注于提供 Web 开发的核心功能和一套灵活可扩展的插件机制。我们不会做出技术选型，因为固定的技术选型会使框架的扩展性变差，无法满足各种定制需求。通过 YS，团队的架构师和技术负责人可以非常容易地基于自身的技术架构在 YS 基础上扩展出适合自身业务场景的框架。

YS架构的插件机制具有很高的扩展性和便利性，一个插件只做一件事情，比如 [ys-pg-dbo](https://github.com/yskit/ys-pg-dbo) 插件，只做请求过程的规范化开发处理，不做其他无关的事情。YS 通过框架聚合这些插件，并根据自己的业务场景定制配置，这样应用的开发成本就变得很低。

YS 奉行『**约定优于配置**』，按照一套统一的约定进行应用开发，团队内部采用这种方式可以减少开发人员的学习成本，开发人员不再是『钉子』，可以流动起来。没有约定的团队，沟通成本是非常高的，比如有人会按目录分栈而其他人按目录分功能，开发者认知不一致很容易犯错。但约定不等于扩展性差，相反 YS 有很高的扩展性，可以按照团队的约定定制框架。使用 Loader 可以让框架根据不同环境定义默认配置，还可以覆盖 YS 的默认约定。

# 与社区框架的差异

[Express](http://expressjs.com/) 是 Node.js 社区广泛使用的框架，简单且扩展性强，非常适合做个人项目。但框架本身缺少约定，标准的 MVC 模型会有各种千奇百怪的写法。YS 按照约定进行开发，奉行『约定优于配置』，团队协作成本低。

[Sails](https://sailsjs.com/) 是和 YS 一样奉行『约定优于配置』的框架，扩展性也非常好。但是相比 YS，Sails 支持 Blueprint REST API、WaterLine 这样可扩展的 ORM、前端集成、WebSocket 等，但这些功能都是由 Sails 提供的。而 YS 不直接提供功能，只是集成各种功能插件，比如实现 [ys-pg-dbo](https://github.com/yskit/ys-pg-dbo) [ys-pg-koa-router](https://github.com/yskit/ys-pg-koa-router) [ys-pg-micro-router](https://github.com/yskit/ys-pg-micro-router) 等这样的插件，再使用 sails-ys 框架整合这些插件就可以替代 Sails 了。

[Egg.js](https://eggjs.org) 与 YS 具有异曲同工之妙，但是 YS 比 Egg.js 强大之处在于 YS 具有生命周期，同时支持 Agent 的 service 请求过程开发。YS 不定义使用何种 framework 与 router，而是同样提供一整套模块或者插件来支持。所以，理论上，YS架构仅仅是处理整体的流程，而至于规范，都是通过简单定义framework来实现。比如我们使用 [ys-fw-koa](https://github.com/yskit/ys-fw-koa) 来作为我们的应用架构，或者使用 [ys-fw-micro](https://github.com/yskit/ys-fw-micro) 来启动我们的微服务架构。YS的扩展性比Egg更加强大，因为它不仅仅提供了 app 层的开发，而且提供 agent 层的开发，当然，这些都是定义在framework上的。

# 特性

- 提供基于 YS 定制上层框架的能力
- 高度可扩展的插件机制
- 内置多进程管理
- 基于 Koa micro 开发，性能优异
- 框架稳定，测试覆盖率高
- 渐进式开发



